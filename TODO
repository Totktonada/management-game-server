* IPv6.

* Клиент с readline.

* Ники пользователей.

* UTF-8.

* Сокращения для команд. Любая последовательность символов, с которой может
* начинаться строго одна команда должна интерпретироваться как эта команда.

* Ловить ошибки write? (-1 или возвр. знач. != кол-ву байт, которое я хочу
* передать).

* Нормальне логи: подключение клиента, отключение (с причиной), получение
* команды от клиента такого-то.

* Параметры командной строки: демонизироваться ли, куда писать лог-файл.

* Вывод состояния сервера (ждём ли ещё игроков).

* Асинхронные уведомления о подключившихся игроках, смене ника, конце хода.
* Разбить события на типы, об отдельных типах событий уведомлять только игрока,
* у которого оно произошло, о некоторых событиях уведомлять всех игроков.

* cmd [--help | -h | -?]

* Внести порядок в именование переменных и сообщения, передаваемые пользователю:
* request -> offer?
* step/month
* player/user/client
* nick/username
* Мысль: игроки раунда — players. Остальные — clients.

* Поддержка gettext, выстраивание отступов между ключом и значением
* автоматически.

* Вариант механизма начала игры: один из игроков — администратор. Может выбрать
* некоторое количество клиентов (в т.ч. себя), которые будут играть в следующей
* игре. Остальные наблюдают.
* ---
* Либо можно вынести администраторскую консоль на отдельный сокет (можно даже на
* отдельный порт). Но первый вариант интереснее.
* ---
* Пока администратора нет (сразу после запуска сервера), стать администратором
* можно по паролю, который задаётся как-либо на стороне сервера (напр. хешем в
* конфиге). Ещё один вариант: по желанию текущего администратора, снимающего с
* себя полномочия. Либо по жребию (или по длительности нахождения на вервере,
* или по количеству выигрышей, или другой алгоритм выбора «самого достойного».)
* когда текущий администратор ушёл, не назначив другого.
* ---
* Когда игра заканчивается, снова начинается этап отбора игроков
* администратором. Несколько администраторов, думаю, не нужно.
* ---
* Вариант: администратор может выбирать только из тех игроков, которые сами
* заявились на следующую игру. На следующую игру могут заявляться любые игроки,
* если в данный момент игра не идёт, а если идёт, то только те, что не
* участвуют в текущей. Между играми надо бы небольшой тайм-аут, чтобы те
* игроки, которые играли сейчас могли успеть заявиться. Игроки, которые не
* заявились или не были отобраны могут наблюдать.
* ---
* Нужен ли администратор? Можно обойтись тайм-аутом между раундами. Тайм-аут
* можно заменить системой тайм-аутов, которые зависят от того, когда
* подключился последний игрок. Если кто-то просит задержаться, то можно и это
* сделать.
* ---
* Появляются категории рассылки сообщений: указанному клиенту, игрокам текущего
* раунда, всем.
* ---
* Можно собирать статистику по раундам, хех.
* ---
* С другой стороны, сложный механизм привелегий не нужен. Игру можно начать по
* команде первого подключившегося игрока. Вопрос: как быть с наблюдателями?
* ---
* Вариант с раундами, по-видимому, лучший. Задержка между раундами, допустим,
* где-то минута. Если набралось человек 6, то можно уменьшить это время. С
* другой стороны, это не мешает сделать механизм, с помощью которого любой из
* заявившихся (или и из наблюдателей?) может попросить подождать лишние
* пол-минуты.

* msg_buffer: раздельные функции и макросы для константной строки и строки,
* длина которой хранится рядом со строкой (в структурке). В game.c не надо
* будет явно указывать размер ника (и тратить время на strlen ()). Для этого
* надо реализовать хранение длины ника рядом с ником. Можно посмотреть в
* сторону [1] или написать своё. Второй вариант мне нравится больше (не тащим
* лишнее).
* [1] http://schacon.github.com/git/technical/api-strbuf.html

* Можно поместить весь вывод в отдельный модуль с процедурами, каждая из
* которых соответствует определённому событию.

* Можно не выкидывать из игры игроков, которых выкинуло из-за ошибки связи (как
* отловить эту ситуацию?), а считать, что каждый ход они просто завершают,
* ничего не делая. Дать им возможность подключиться потом и посмотреть все
* сообщения.

* Заменить слова "Money" на знак доллара, где возможно. Это сократит размер
* сообщений.
